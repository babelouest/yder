<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Yder: Yder</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Yder
   </div>
   <div id="projectbrief">Logging library written in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Yder </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Logging library written in C.</p>
<p><a href="https://travis-ci.com/babelouest/yder"></a></p>
<p>Simple and easy to use logging library. You can log messages to the console, a file, syslog or journald.</p>
<p>Yder is mono-thread, which mean that you can use only one instance of yder log at the same time in your program.</p>
<h1>Installation</h1>
<h3>Distribution packages</h3>
<p><a href="https://repology.org/metapackage/yder"></a></p>
<p>Yder is available in multiple distributions as official package. Check out your distribution documentation to install the package automatically.</p>
<div class="fragment"><div class="line">$ # Example for Debian testing</div><div class="line">$ sudo apt install libyder-dev # Or apt install libyder2.0 if you don&#39;t need the development files</div></div><!-- fragment --><h2>Pre-compiled packages</h2>
<p>You can install Yder with a pre-compiled package available in the <a href="https://github.com/babelouest/yder/releases/latest/">release pages</a>. Note that you need to install <a href="https://github.com/babelouest/orcania/releases/latest/">Orcania</a> first. <code>jansson</code> development files packages is required to install Yder.</p>
<h2>Manual install</h2>
<h3>Prerequisites</h3>
<p>You must install <a href="https://github.com/babelouest/orcania">liborcania</a> first before building libyder. Orcania will be automatically installed if missing and you're using cmake.</p>
<h3>CMake - Multi architecture</h3>
<p><a href="https://cmake.org/download/">CMake</a> minimum 3.5 is required.</p>
<p>Run the cmake script in a subdirectory, example:</p>
<div class="fragment"><div class="line">$ git clone https://github.com/babelouest/yder.git</div><div class="line">$ cd yder/</div><div class="line">$ mkdir build</div><div class="line">$ cd build</div><div class="line">$ cmake ..</div><div class="line">$ make &amp;&amp; sudo make install</div></div><!-- fragment --><p>The available options for cmake are:</p><ul>
<li><code>-DWITH_JOURNALD=[on|off]</code> (default <code>on</code>): Build with journald (SystemD) support</li>
<li><code>-DBUILD_STATIC=[on|off]</code> (default <code>off</code>): Build the static archive in addition to the shared library</li>
<li><code>-DBUILD_YDER_TESTING=[on|off]</code> (default <code>off</code>): Build unit tests</li>
<li><code>-DINSTALL_HEADER=[on|off]</code> (default <code>on</code>): Install header file <code><a class="el" href="yder_8h.html" title="Yder framework. ">yder.h</a></code></li>
<li><code>-DBUILD_RPM=[on|off]</code> (default <code>off</code>): Build RPM package when running <code>make package</code></li>
<li><code>-DCMAKE_BUILD_TYPE=[Debug|Release]</code> (default <code>Release</code>): Compile with debugging symbols or not</li>
</ul>
<h3>Good ol' Makefile</h3>
<p>Download yder from github repository, compile and install.</p>
<div class="fragment"><div class="line">$ git clone https://github.com/babelouest/yder.git</div><div class="line">$ cd yder/src</div><div class="line">$ make</div><div class="line">$ sudo make install</div></div><!-- fragment --><p>To build Yder without Journald (SystemD) support, add the option Y_DISABLE_JOURNALD=1 to the <code>make command</code>:</p>
<div class="fragment"><div class="line">$ git clone https://github.com/babelouest/yder.git</div><div class="line">$ cd yder/src</div><div class="line">$ make Y_DISABLE_JOURNALD=1</div><div class="line">$ sudo make install</div></div><!-- fragment --><p>By default, the shared library and the header file will be installed in the <code>/usr/local</code> location. To change this setting, you can modify the <code>DESTDIR</code> value in the <code>src/Makefile</code>.</p>
<p>Example: install yder in /tmp/lib directory</p>
<div class="fragment"><div class="line">$ cd src</div><div class="line">$ make &amp;&amp; make DESTDIR=/tmp install</div></div><!-- fragment --><p>You can install Yder without root permission if your user has write access to <code></code>. A <code>ldconfig</code> command is executed at the end of the install, it will probably fail if you don't have root permission, but this is harmless. If you choose to install Yder in another directory, you must set your environment variable <code>LD_LIBRARY_PATH</code> properly.</p>
<h3>Install libyder as a static archive</h3>
<p>Install byderlibrary as a static archive, <code>libyder.a</code>, use the make commands <code>make static*</code>:</p>
<p>```shell $ cd src $ make static &amp;&amp; sudo make static-install # or make DESTDIR=/tmp static-install if you want to install in <code>/tmp/lib</code> </p><div class="fragment"><div class="line"># API Documentation</div><div class="line"></div><div class="line">## Header files and compilation</div><div class="line"></div><div class="line">To use yder in your code, you must include the file `yder.h`.</div><div class="line"></div><div class="line">```c</div><div class="line">#include &lt;yder.h&gt;</div></div><!-- fragment --><h3>Initialization</h3>
<p>Use the <code>y_init_logs</code> function to start logging. The prototype of this function is:</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keywordtype">int</span> <a class="code" href="group__init.html#gad08a02a5968e0d03190c048f17b376e6">y_init_logs</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * app, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> init_mode, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> init_level, <span class="keyword">const</span> <span class="keywordtype">char</span> * init_log_file, <span class="keyword">const</span> <span class="keywordtype">char</span> * message);</div></div><!-- fragment --><p>The parameter <code>init_mode</code> is the initial mode for logging. You can specify and combine the following modes available:</p>
<div class="fragment"><div class="line"><a class="code" href="group__const.html#ga1a5bce5562cbd081ccdeaa6918f48022">Y_LOG_MODE_CONSOLE</a></div><div class="line"><a class="code" href="group__const.html#ga4b0941eac1ddf1555362fe0adfbcc3fa">Y_LOG_MODE_SYSLOG</a></div><div class="line"><a class="code" href="group__const.html#gaf74fe8972c566e116b7101f90fb54475">Y_LOG_MODE_JOURNALD</a></div><div class="line"><a class="code" href="group__const.html#ga2dd8e878a3e4cde35c9189d2556c4de8">Y_LOG_MODE_FILE</a></div><div class="line"><a class="code" href="group__const.html#gacaa3c9d0c0a15b21851151124f4ec6b4">Y_LOG_MODE_CALLBACK</a></div></div><!-- fragment --><p>If you use Y_LOG_MODE_FILE in your initial mode, you must specify a valid path for the <code>init_log_file</code> parameter.</p>
<p>The parameter <code>init_level</code> is the bottom level of your log messages. The levels available are, by level order:</p>
<div class="fragment"><div class="line"><a class="code" href="group__const.html#ga8c66962caefb053096262bb2f0a0bca8">Y_LOG_LEVEL_NONE</a></div><div class="line"><a class="code" href="group__const.html#ga9aa141f376875bfe082b6b7058cabeba">Y_LOG_LEVEL_ERROR</a></div><div class="line"><a class="code" href="group__const.html#gae375b60ba48fdc78d78bdcba886b4fb5">Y_LOG_LEVEL_WARNING</a></div><div class="line"><a class="code" href="group__const.html#ga36e5f936848176e46b34c3041641eee2">Y_LOG_LEVEL_INFO</a></div><div class="line"><a class="code" href="group__const.html#ga64337b9070a5c8516890b6b9c58793f1">Y_LOG_LEVEL_DEBUG</a></div></div><!-- fragment --><p>For example, if you specify <code>Y_LOG_LEVEL_WARNING</code> as init_level, you will see in your log output only <code>Y_LOG_LEVEL_WARNING</code> and <code>Y_LOG_LEVEL_ERROR</code>. If you specify <code>Y_LOG_LEVEL_DEBUG</code>, you will see in your log output all log messages.</p>
<h3>Redirect log messages to a callback function</h3>
<p>If you need to redirect log messages to a custom callback function, for example if you need to interact with other logging libraries, you must use the init_mode <code>Y_LOG_MODE_CALLBACK</code> in the <code>init_mode</code> parameter in the <code>y_init_logs</code> function, then use the function <code>y_set_logs_callback</code> with your callback function as parameter.</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keywordtype">int</span> <a class="code" href="group__init.html#ga4fa726b60a8a7236645d43b8bd8c66ee">y_set_logs_callback</a>(<span class="keywordtype">void</span> (* y_callback_log_message) (<span class="keywordtype">void</span> * cls, <span class="keyword">const</span> <span class="keywordtype">char</span> * app_name, <span class="keyword">const</span> time_t date, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span> * message),</div><div class="line">                        <span class="keywordtype">void</span> * cls,</div><div class="line">                        <span class="keyword">const</span> <span class="keywordtype">char</span> * message);</div></div><!-- fragment --><p>The callback log function must have the following signature:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> y_callback_log_message(<span class="keywordtype">void</span> * cls, <span class="keyword">const</span> <span class="keywordtype">char</span> * app_name, <span class="keyword">const</span> time_t date, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> level, <span class="keyword">const</span> <span class="keywordtype">char</span> * message);</div></div><!-- fragment --><p>The parameters in the callback function are: </p><div class="fragment"><div class="line">- <span class="keywordtype">void</span> * cls <span class="comment">// Your specified parameter</span></div><div class="line">- <span class="keyword">const</span> <span class="keywordtype">char</span> * app_name <span class="comment">// The value app_name from y_init_logs</span></div><div class="line">- <span class="keyword">const</span> time_t date <span class="comment">// The datestamp when the log message was launched</span></div><div class="line">- <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> level <span class="comment">// The log level of the message, values can be: Y_LOG_LEVEL_ERROR, Y_LOG_LEVEL_WARNING, Y_LOG_LEVEL_INFO, Y_LOG_LEVEL_DEBUG</span></div></div><!-- fragment --><h3>Close yder</h3>
<p>To close yder and free its allocated memory, use the function <code>y_close_logs</code>:</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keywordtype">int</span> <a class="code" href="group__init.html#ga2ae4ef7d0d12e2d9727e6e61cecf7878">y_close_logs</a>();</div></div><!-- fragment --><h3>Log a message</h3>
<p>To log a message, use the function <code>y_log_message</code>, defined by:</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="group__log.html#gad949b67a946c775ae36f67f44de397ae">y_log_message</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> type, <span class="keyword">const</span> <span class="keywordtype">char</span> * message, ...);</div></div><!-- fragment --><p>This function uses <code>printf</code> prototype for the message and the log message type. For example:</p>
<div class="fragment"><div class="line"><a class="code" href="group__log.html#gad949b67a946c775ae36f67f44de397ae">y_log_message</a>(<a class="code" href="group__const.html#ga36e5f936848176e46b34c3041641eee2">Y_LOG_LEVEL_INFO</a>, <span class="stringliteral">&quot;Initializing application&quot;</span>);</div><div class="line"><a class="code" href="group__log.html#gad949b67a946c775ae36f67f44de397ae">y_log_message</a>(<a class="code" href="group__const.html#ga9aa141f376875bfe082b6b7058cabeba">Y_LOG_LEVEL_ERROR</a>, <span class="stringliteral">&quot;Error in application, you have %d over %d threads in error mode&quot;</span>, threads_error, threads_total);</div></div><!-- fragment --><h3>Example source code</h3>
<p>See <code>examples</code> folder for detailed sample source codes. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
